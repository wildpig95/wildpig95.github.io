
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	<title>读《pro git》- 让我们愉悦的读懂技术</title>
    
	
	<meta name="author" content="李林">
	
	<link rel="stylesheet" href="/assets/themes/Snail/css/jquery.fancybox.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/main.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/pages/journal.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/team.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/static.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/errors.css">
	<link rel="stylesheet" href="/assets/themes/Snail/google-code-prettify/prettify.css">
	
	<link rel="shortcut icon" href="/assets/themes/Snail/img/favicon.ico">
	
	<script type="text/javascript" src="/assets/themes/Snail/js/jquery.min.js"></script>
	
	<script type="text/javascript" src="/assets/themes/Snail/js/auto_loadmore.js"></script>
	
	<script type="text/javascript" src="/assets/themes/Snail/google-code-prettify/prettify.js"></script>
	
	<script type="text/javascript">
	  $(function(){
		$("pre code").addClass("prettyprint linenums");
		prettyPrint();
	  });
	</script>
	
<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
</head>
<body>
	<noscript>
		&amp;lt;div id="no-js"&amp;gt;Please enable JavaScript in your browser to experience / fully&amp;lt;/div&amp;gt;
	</noscript>
    <div id="page-container">
		<div>
			<nav>
	<div id="nav-l">
	</div>
	<div id="nav-c">
		<ul id="nav-list" style="width: 700px;">
			<li id="home"><a href="/">Home</a></li>
			
			
			
				
				  
				
			 
				
				  
					
					<li id = "About Me"><a href="/about.html">About Me</a></li>
					
				  
				
			 
				
				  
					
					<li id = "Archive"><a href="/archive.html">Archive</a></li>
					
				  
				
			 
				
				  
				
			 
				
				  
					
					<li id = "Categories"><a href="/categories.html">Categories</a></li>
					
				  
				
			 
				
			 
				
				  
				
			 
				
				  
				
			 
				
				  
				
			 
				
				  
					
					<li id = "Tags"><a href="/tags.html">Tags</a></li>
					
				  
				
			 
			
			
		</ul>
		<form id="nav-search" method="GET" action="/search.html">
			<div id="search-right-pix">
				<div id="search-left-pix">
					<div id="search-center-pix">
						<div id="search-icon-pix"></div>
						<input name="query" type="text" placeholder="Search">
					</div>
				</div>
			</div>
		</form>
		
		
	</div>
	<div id="nav-r">
	</div>
</nav>
			<div id="page-content">
				
<div id="page-content">
	<div class="cont932">
	<div id="journal-articles-block">
		<div class="journal-article">
			<div class="journal-post-info">
				<div class="journal-cat-box">
				
				
				<div class="journal-cat-box">

<a href="/categories.html#book-ref" title="book">
	book

</a>
</div>
				
				</div>
			</div>
			<div class="journal-body">
				<h1 class="journal-title">读《pro git》- 让我们愉悦的读懂技术<span class="author">by 李林</span>
				</h1>
				<span class="the-article">
				<p>在知乎上，《pro git》作为入门“殿堂级”教程推荐。很早就想在项目上推行git作为配置管理工具，囿于原公司的各种信息安全傻规定，无法实现。现在有了条件，就好好学习一下，把git用好。</p>

<p>我发现一个适用于自己的方法–强迫自己写读书笔记对理解业务或者技术都大有裨益，同时在博客中加入一些对软件开发的理解也会对其他人有一点点帮助。所以有了这篇。</p>

<!--more-->

<h1 id="section">配置管理是软件项目的基石</h1>

<p>刚入行的时候（1999年），没人关注配置管理。在一家自封为中国第四大软件公司做开发。项目组有10来个人，大家就用微软的VSS做文档和代码的管理。经常遇到你覆盖我，我干掉你的囧局。虽然当时很气愤，也很想弄好，能力不济，也没什么人指导。但觉得对团队协同开发来说，配置管理作为一项基础性的工作非常有必要做好的。</p>

<p>再后来到了菊花公司，软件开发非常的规范。使用SVN，只要掌握了“修改之前一定要update”的口诀，断然不能出错了。对于代码量在10万以内的项目来说，SVN表现的不错。我们团队在菊花公司变态QA审查之后还得了个质量奖。</p>

<p>后来就开始做大项目，说好听的是企业级百万以上后台代码的工程，说不好听的是经年累月的史诗级史前巨坑的遗留系统。如果一个新人进项目组，不折腾三天，开发工程都搭建不起来，更遑论持续集成和自动化测试了。当时领导听说总部不少团队用clearcase，鸡冻的很，我一看，cao啊，更是“豪门深似海”的架势，就以工程替换量太大，开发人员不熟悉耽误开发效率为由拒绝了。</p>

<p>在菊花公司研发体系，效率是法宝，说服领导采用“效率”一词的次数与成功率成正比，不管你是想拒绝还是想引导。</p>

<p>后来跟业界的接触多了，知道了git。心向往之，当时也找兄弟学习了，强制在项目组内使用，效果却很差。在进度面前，这些都成了装逼。有个兄弟开玩笑的说，用git提交了代码今天居然保存住了！让我印象深刻。知道近期，看了《pro git》这本书，有点“相见恨晚”，反过头来看之前的问题，其实还是没有正确的学习和使用git吧。</p>

<h1 id="git">git的基本概念</h1>

<p>git的产生过程是一段传奇，我就不再貂尾续狗。</p>

<p>学习和使用git，首先要thinking in git，不要拿传统的集中配置管理工具的概念来套git。他们的主要差异点：</p>

<p><em>快照 VS 比较差异</em></p>

<p>git只关心文件数据的整体是否有变化，传统工具只关心具体文件是否有变化。git更像是把变化的文件做一次快照后，记录在一个微型的文件系统中。每次有代码提交，git会纵览一遍所有文件的指纹信息并对文件做一次快照，然后保存一个指向本次快照的索引。</p>

<p><em>几乎所有操作都可本地执行</em></p>

<p>由于是分布式的配置管理，只要是开始用git，本地磁盘保存着所有有关当前项目的历史更新。所以操作起来非常快。可以在任何时间和地点进行git操作，而不用连接网络。</p>

<p><em>时刻保持数据的完整性</em></p>

<p>在保存到git之前，所有数据都要进行内容的校验和chechsum计算，并将此结果作为数据的唯一标识和索引。使用SHA-1算法进行校验和checksum计算，会产生一个SHA-1的哈希值，作为指纹字符串。类似：24b9da6552252987aa493b52f8696cd6d3b00373 这个样子的。</p>

<p><em>多数操作只添加数据</em></p>

<p>添加数据是可逆的，删除数据是不可逆的。如果经常提交快照，就不会产生数据丢失的问题。可靠性非常好。</p>

<p>接下来我们看看，git的三种状态，核心概念务必理解。</p>

<p>对于任何一个文件，git内只有三种状态：</p>

<ul>
  <li>已提交（commited）：表示文件已经安全的保存到本地数据库中了。</li>
  <li>已修改（modified）：表示文件已经修改，但是还没保存到本地数据库中。</li>
  <li>已暂存（staged）：表示把已经修改的文件放到下次提交时要保存的清单中去了。</li>
</ul>

<p>有了这三种状态也就有了三类目录：</p>

<ul>
  <li>工作目录：可以修改的文件存放这里。</li>
  <li>本地数据目录：提交后存放到这里。</li>
  <li>暂存区域：已经修改，但是没有提交的放在这里。</li>
</ul>

<p>每个项目都有一个git目录，用来保存元数据和对象数据库的地方。每次克隆镜像仓库的时候，实际拷贝的就是这个目录里面的数据。从项目中取出的某个版本所有文件和目录，用以开始后续工作的叫做工作目录。这些文件实际上都是从git目录中的压缩对象数据中提取出来的，接下来就可以在工作目录中对这些文件进行编辑。</p>

<p>而暂存区只不过是一个简单的文件，一般存放在git目录中。有时候人们会把这个文件叫做索引文件。</p>

<p>基本的git工作流程是：</p>

<p>1 在工作目录中修改某些文件。
2 对这些修改的文件做快照，并保存到暂存区。
3 提交更新，将保存在暂存区域的文件快照转储到git目录中。</p>

<p>好了，掌握了这些基础知识，将非常有助于实际操作。不会乱了方寸。</p>

<p>=== 未完待续 ===</p>

				</span>
				<div class="journal-date">Published 01 April 2015</div>
				<div class="journal-tags">
				
				
	 
		<a class="tag-cont" href="/tags.html#git-ref">
			<div class="tag-l"></div>
			<div class="tag-c">git</div>
			<div class="tag-r"></div>
		</a>
	



				</div>
			</div>
		</div>
		<div class="clearboth"></div>
	</div>
</div>
	<div class="clearboth"></div>
	


  <!-- 多说评论框 start -->
<div id="comments">
    <div class="ds-thread" data-thread-key="/book/2015/04/01/progit-读书笔记"  data-title="读《pro git》- 让我们愉悦的读懂技术 - 野猪一九九五"></div>
</div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wildpig95"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->



	<div class="clearboth"></div>
</div>

			</div>
			<div class="clearboth pagebottom"></div>
		</div>
	</div>
	<footer>
	<div class="footer-940">
		<div class="footer-general-info">
			© 2014 李林.<br><br>
			Content licensed under:<br>
			<a class="cc" href="http://creativecommons.org/licenses/by-sa/3.0/">c a b</a><br>
			<a href = "/about.html">About Me</a><br>
		</div>
		<div class="footer-col-cont">
			<div class="footer-nav-col">
				<h4><a>Categories</a></h4>
				<ul>
					
					


  
     
    	<li><a href="/categories.html#book-ref">
    		book <span>2</span>
    	</a></li>
     
    	<li><a href="/categories.html#dicom-ref">
    		dicom <span>1</span>
    	</a></li>
    
  


				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a>Pages</a></h4>
				<ul>
					
					
					


  
    
      
    
  
    
      
      	
      	<li><a href="/about.html">About Me</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a>Feed</a></h4>
				<ul>
					<li><a href="/atom.xml">Atom Feed</a></li>
					<li><a href="/rss.xml">RSS Feed</a></li>
				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a>Links</a></h4>
				<ul>
				 
					<li><a href = "http://wildpig95.github.io/">wildpig95's Blog</a></li>
				
				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a href = "/about.html">About Me</a></h4>
				<ul>
				 
					<li><a href = "mailto:wildpig95@gmail.com">e-mail</a></li>
				 
					<li><a href = "https://github.com/wildpig95">Github</a></li>
				 
					<li><a href = "http://www.weibo.com/wildpig95">WeiBo</a></li>
				
				</ul>
			</div>
			<div class="clearboth"></div>
		</div>
		<div class="clearboth"></div>
	</div>
	<div class="clearboth"></div>
</footer>
	
</body>
</html>

